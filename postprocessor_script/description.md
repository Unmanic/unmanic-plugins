
The script can be any command or script. If you choose to use a custom script, be sure to make the script executable before trying to use it.

Enable debug logging to see the output of your configured command or script in the Unmanic log file.

---

##### Links:

- [Support](https://unmanic.app/discord)
- [Issues/Feature Requests](https://github.com/Unmanic/plugin.limit_library_search_by_file_extension/issues)
- [Pull Requests](https://github.com/Unmanic/plugin.limit_library_search_by_file_extension/pulls)


---

##### Script Variables Template Substitutions:
The following template replacements are available to your command or args. 
If you write one of these variables in your args, it will be substituted with the specified data from the current task.

:::note
Variable substitutions are not applied to the script, only a script's args.
:::

:::tip
In some cases, you may need to place single quotes around these variables as it may contain characters that shell may otherwise attempt to parse.
:::

###### <span style="color:green">{library_id}</span>

Will be replaced with the ID of the library config that was used to process this file.

Eg.
```
    --library='{library_id}'
```

###### <span style="color:green">{final_cache_path}</span>

Will be replaced with the path to the final output file in the Unmanic cache directory for this task.

Eg.
```
    --processed-cache-file='{final_cache_path}'
```

###### <span style="color:green">{output_files}</span>

Will be replaced with a JSON object list of files generated.

Only available when **<span style="color:blue">Run the command for each output file created by Unmanic.</span>** is **unselected**.

Eg.
```
    --files='{output_files}'
```

###### <span style="color:green">{output_file_path}</span>

Will be replaced with the full path to an output file generated by this task.

Only available when **<span style="color:blue">Run the command for each output file created by Unmanic.</span>** is **selected**.

Eg.
```
    --output='{output_file_path}'
```

###### <span style="color:green">{source_file_path}</span>

Will be replaced with the full path to the original source file for this task.

Eg.
```
    --sourcefile='{source_file_path}'
```

###### <span style="color:green">{source_file_size}</span>

Will be replaced with the size in bytes of the original source file for this task.

Eg.
```
    --originalsize='{source_file_size}'
```

---

##### Examples:

###### <span style="color:magenta">Run [filebot](https://www.filebot.net/forums/viewtopic.php?t=215) "Automated Media Center" command on output files:</span>
**<span style="color:blue">Only run the command when the all worker processes completed successfully.</span>**
> *(SELECTED)*

**<span style="color:blue">Run the command for each output file created by Unmanic.</span>**
> *(SELECTED)*

**<span style="color:blue">Command or script to execute.</span>**
> *filebot*

**<span style="color:blue">Arguments to pass to the command or script.</span>**
```
-script fn:amc
--output "/library"
--action duplicate
--conflict skip
-non-strict
--log-file amc.log
--def unsorted=y music=y artwork=y
"ut_kind=multi" "ut_label=N/A" "ut_dir={output_file_path}"
```

###### <span style="color:magenta">Use [Rsync](https://rsync.samba.org/) to copy output files to another server:</span>
**<span style="color:blue">Only run the command when the all worker processes completed successfully.</span>**
> *(SELECTED)*

**<span style="color:blue">Run the command for each output file created by Unmanic.</span>**
> *(SELECTED)*

**<span style="color:blue">Command or script to execute.</span>**
> *rsync*

**<span style="color:blue">Arguments to pass to the command or script.</span>**
```
--relative
{output_file_path}
user@x.x.x.x:/library/
```

###### <span style="color:magenta">Execute a custom bash script when all worker processes are successful:</span>
**<span style="color:blue">Only run the command when the all worker processes completed successfully.</span>**
> *(SELECTED)*

**<span style="color:blue">Run the command for each output file created by Unmanic.</span>**
> *(UNSELECTED)*

**<span style="color:blue">Command or script to execute.</span>**
> */path/to/script.sh*

**<span style="color:blue">Arguments to pass to the command or script.</span>**
```
--all_files='{output_files}' --original_file_size={source_file_size}
```
