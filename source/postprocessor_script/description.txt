
The script can be any command or script. If you choose to use a custom script, be sure to make the script executable before trying to use it.

Enable Debug logging to see the output of your configured command or script in the Unmanic log file.

[size=23][b]Config description:[/b][/size]
[color=green][b]Only run the command when the all worker processes completed successfully.[/b][/color]
When this is selected, if a worker process fails, then the configured command will not be executed.

[color=green][b]Run the command for each output file created by Unmanic.[/b][/color]
When this is selected, the given command will be executed once for each of the files generated by Unmanic.
By default Unmanic will only produce a single output file, however, other postprocessor plugins are capable of producing additional file movements meaning we could end up with multiple destination files.
Use this config option to specify if you which this plugin to execute the given command for each of these generated output files.

[color=green][b]Command or script to execute[/b][/color]
Specify the command or full path to the script that this plugin should execute.
Variables may be given in this field. See below for a list of variable types.

[color=green][b]Arguments to pass to the command or script (optional)[/b][/color]
Specify an optional list of arguments to add to the given command or script.
Variables may be given in this field. See below for a list of variable types.


[size=23][b]Variables:[/b][/size]
[color=blue][b]{output_files}[/b][/color]
Will be replaced with a JSON object list of files generated.
Only available when [color=green][b]Run the command for each output file created by Unmanic.[/b][/color] is [b]unselected[/b].
Eg.
[i][code]    --files={output_files}[/code][/i]

[color=blue][b]{output_file_path}[/b][/color]
Will be replaced with the full path to an output file generated by this task.
Only available when [color=green][b]Run the command for each output file created by Unmanic.[/b][/color] is [b]selected[/b].
Eg.
[i][code]    --output={output_file_path}[/code][/i]

[color=blue][b]{source_file_path}[/b][/color]
Will be replaced with the full path to the original source file for this task.
Eg.
[i][code]    --sourcefile={source_file_path}[/code][/i]

[color=blue][b]{source_file_size}[/b][/color]
Will be replaced with the size in bytes of the original source file for this task.
Eg.
[i][code]    --originalsize={source_file_size}[/code][/i]

[color=blue][b]{source_bit_rate}[/b][/color]
Will be replaced with the bitrate of the original source file for this task.
Eg.
[i][code]    --originalbitrate={source_bit_rate}[/code][/i]

[color=blue][b]{source_duration}[/b][/color]
Will be replaced with the duration in seconds of the original source file for this task.
Eg.
[i][code]    --originalduration={source_duration}[/code][/i]

[color=blue][b]{source_streams}[/b][/color]
Will be replaced with a JSON object list of streams in the original source file for this task.
Only used when [b]Run the command for each output file created by Unmanic.[/b] is unselected.
Eg.
[i][code]    --files='{source_streams}'[/code][/i]
[quote][b]Note:[/b] You should place single quotes around this variable as it may contain characters that shell may otherwise attempt to parse.[/quote]


[size=23][b]Examples:[/b][/size]
[size=20][color=magenta]Run [url=https://www.filebot.net/forums/viewtopic.php?t=215]filebot[/url] "Automated Media Center" command on output files:[/color][/size]
[color=green][b]Only run the command when the all worker processes completed successfully.[/b][/color]
[i](SELECTED)[/i]
[color=green][b]Run the command for each output file created by Unmanic.[/b][/color]
[i](SELECTED)[/i]
[color=green][b]Command or script to execute.[/b][/color]
[code]filebot[/code]
[color=green][b]Arguments to pass to the command or script.[/b][/color]
[code]-script fn:amc
--output "/library"
--action duplicate
--conflict skip
-non-strict
--log-file amc.log
--def unsorted=y music=y artwork=y "ut_kind=multi" "ut_label=N/A" "ut_dir={output_file_path}"
[/code]

[size=20][color=magenta]Use [url=https://rsync.samba.org/]Rsync[/url] to copy output files to another server:[/color][/size]
[color=green][b]Only run the command when the all worker processes completed successfully.[/b][/color]
[i](SELECTED)[/i]
[color=green][b]Run the command for each output file created by Unmanic.[/b][/color]
[i](SELECTED)[/i]
[color=green][b]Command or script to execute.[/b][/color]
[code]rsync[/code]
[color=green][b]Arguments to pass to the command or script.[/b][/color]
[code]--relative
{output_file_path}
user@x.x.x.x:/library/
[/code]

[size=20][color=magenta]Execute a custom bash script:[/color][/size]
[color=green][b]Only run the command when the all worker processes completed successfully.[/b][/color]
[i](SELECTED)[/i]
[color=green][b]Run the command for each output file created by Unmanic.[/b][/color]
[i](UNSELECTED)[/i]
[color=green][b]Command or script to execute.[/b][/color]
[code]/path/to/script.sh[/code]
[color=green][b]Arguments to pass to the command or script.[/b][/color]
[code]--all_files='{output_files}' --original_file_size={source_file_size}[/code]
